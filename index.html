<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üçÜ $Veggie ‚Äî Falling Media Background</title>
  <style>
    :root {
      --eggplant-purple: #6a0dad;
      --eggplant-green: #4caf50;
      --eggplant-light: #f3e8ff;
      --eggplant-dark: #3d0066;
    }
    body, html {
      margin: 0; padding: 0; height: 100%;
      background: var(--eggplant-light);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--eggplant-dark);
      overflow: hidden;
      position: relative;
    }
    #media-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0;
      background: var(--eggplant-light);
      display: block;
    }
    .container {
      position: relative;
      max-width: 520px;
      background: white;
      box-shadow: 0 8px 30px rgba(106, 13, 173, 0.3);
      border-radius: 16px;
      padding: 30px 25px;
      text-align: center;
      margin: 40px auto;
      z-index: 10;
    }
    h1 {
      font-size: 2.8rem;
      margin-bottom: 12px;
      user-select: none;
      color: var(--eggplant-purple);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
    }
    h1 .emoji {
      font-size: 3.8rem;
      filter: drop-shadow(1px 1px 2px #4caf50cc);
    }
    p {
      font-size: 1.15rem;
      line-height: 1.5;
      margin: 14px 0;
    }
    ul {
      list-style: none;
      padding: 0;
      margin: 20px 0 28px;
      text-align: left;
    }
    ul li {
      margin-bottom: 14px;
      font-weight: 600;
      padding-left: 20px;
      position: relative;
      color: var(--eggplant-dark);
    }
    ul li::before {
      content: "";
      position: absolute;
      left: 0;
    }
    .links {
      margin-top: 30px;
    }
    .links a {
      text-decoration: none;
      color: white;
      background: var(--eggplant-purple);
      padding: 14px 28px;
      margin: 8px 12px;
      border-radius: 50px;
      font-weight: 700;
      display: inline-block;
      transition: background-color 0.3s ease;
      box-shadow: 0 4px 10px rgba(106, 13, 173, 0.4);
    }
    .links a:hover {
      background: var(--eggplant-green);
      box-shadow: 0 6px 14px rgba(76, 175, 80, 0.6);
    }
    footer {
      margin-top: 36px;
      font-size: 0.9rem;
      color: #666;
    }
    @media (max-width: 560px) {
      .container {
        margin: 12px;
        padding: 20px;
      }
      h1 {
        font-size: 2.2rem;
      }
    }
  </style>
</head>
<body>
  <canvas id="media-canvas"></canvas>
  <div class="container" role="main">
    <h1><span class="emoji">üçÜ</span>$Veggie</h1>
    <p><strong>A community token with a legend</strong></p>
    <p>The image of the iconic eggplant, known to everyone on Telegram:</p>
    <ul>
      <li>In the official reactions of Durov's channel</li>
      <li>In Telegram gifts</li>
      <li>In emojis and stickers</li>
      <li>üì∞ Even in the news ‚Äî the story about the disabling of the controversial animation</li>
    </ul>
    <p>This eggplant has already become a meme that lives in chats, news, and jokes.<br>Now it‚Äôs becoming the main community token on TON! üòé</p>
    <div class="links">
      <a href="https://t.me/verybigveggie" target="_blank" rel="noopener noreferrer">Telegram</a>
      <a href="https://x.com/verybigveggie" target="_blank" rel="noopener noreferrer">X (Twitter)</a>
      <a href="https://dedust.io/swap/TON/EQAo-Mnt8Q2l9M90Sdk9OiTtzmVv3j8Tf382dBVpNRf9qWmY" target="_blank" rel="noopener noreferrer">Swap on Dedust</a>
    </div>
    <footer>¬© 2025 $Veggie Token Community</footer>
  </div>

<script>
  const canvas = document.getElementById('media-canvas');
  const ctx = canvas.getContext('2d');
  let width, height;

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  }
  resize();
  window.addEventListener('resize', resize);

  const cellSize = 120; // —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞
  let cols = Math.floor(width / cellSize);
  let rows = Math.floor(height / cellSize);

  // –†–µ—à–µ—Ç–∫–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —è—á–µ–µ–∫ - false = —Å–≤–æ–±–æ–¥–Ω–∞, true = –∑–∞–Ω—è—Ç–∞
  let grid = [];
  function initGrid() {
    grid = [];
    for(let r=0; r<rows; r++) {
      grid[r] = [];
      for(let c=0; c<cols; c++) {
        grid[r][c] = false;
      }
    }
  }
  initGrid();

  // –¢–≤–æ–∏ –Ω–æ–≤—ã–µ —Ñ–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞:
  const photoUrls = [
    "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRsM8vRogohFUEAqPbCEoPrB-JUmEfTb_XEVg&s",
    "https://images.gastronom.ru/SMBq2KIuQpECJ8F2wM7pxlEt0jPQBBQdTJpZJuAsWS4/pr:product-cover-image/g:ce/rs:auto:0:0:0/L2Ntcy9hbGwtaW1hZ2VzL2I3ODQ3OTViLTRjYzEtNDQzOC1hZDgyLTdlN2U4NzhlZjhjMy5qcGc.webp",
    "https://masterpiecer-images.s3.yandex.net/d550c482612e11eebaf656181a0358a2:upscaled",
    "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNtMiCCIaMx5pihMUVoqUZjP0HS6DChFHMag&s",
    "https://masterpiecer-images.s3.yandex.net/ae040d9d610b11eeb5f11e5d9776cfa6:upscaled",
    "https://thumbs.dreamstime.com/b/%D1%81%D0%BC%D0%B5%D1%88%D0%BD%D0%BE%D0%B9-%D1%80%D0%B0%D0%BA%D0%BE%D0%BD-%D1%81-%D0%B5-%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9-%D0%BE%D0%B2%D0%BE%D1%89%D0%B5%D0%B9-61982616.jpg",
    "https://img-webcalypt.ru/uploads/admin/images/meme-templates/dfYt614V9mShRuDb3CLN31EenTP1jlMG.jpg",
    "https://basket-12.wbbasket.ru/vol1769/part176976/176976979/images/big/1.webp",

    "https://i.imgur.com/xaysYKf.jpeg",
    "https://i.imgur.com/aM3s81m.jpeg",
    "https://i.imgur.com/GokLYZV.jpeg",
    "https://i.imgur.com/h4yNyXf.jpeg",
    "https://i.imgur.com/rdS8tyQ.jpeg",
    "https://i.imgur.com/rKmcxhs.jpeg",
    "https://i.imgur.com/BKgNzkl.jpeg",
    "https://i.imgur.com/6Gm6opR.jpeg",

    // –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–æ–≤—ã–µ —Ñ–æ—Ç–æ:
    "https://i.imgur.com/bxd0xaK.jpeg",
    "https://i.imgur.com/pt1o3N6.jpeg",
    "https://i.imgur.com/FsEkRT2.jpeg",
    "https://i.imgur.com/LoFvnwp.jpeg",
    "https://i.imgur.com/C2GVydu.jpeg",
    "https://i.imgur.com/1Fy3oZ9.jpeg",
    "https://i.imgur.com/hngzQyS.jpeg",
    "https://i.imgur.com/STWafqp.jpeg",
    "https://i.imgur.com/Z9gdesM.jpeg",
    "https://i.imgur.com/Onj5Mxp.jpeg",
    "https://i.imgur.com/JYKUzWT.jpeg"
  ];

  const gifUrls = [
    'https://giffun.ru/wp-content/uploads/2022/05/tenor-2.gif',
    'https://cs9.pikabu.ru/post_img/2016/09/30/10/1475253517166130123.gif',
    'https://giffun.ru/wp-content/uploads/2022/05/1206845.gif',
    'https://media.tenor.com/SVX2Z2YTJeoAAAAM/eggplant.gif'
  ];

  // –ö–ª–∞—Å—Å –±–ª–æ–∫–∞ –¥–ª—è –ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–¥–∏–∞
  class MediaBlock {
    constructor(img, col, row, speed) {
      this.img = img;
      this.col = col;
      this.row = row; // —Å—Ç–∞—Ä—Ç -1 ‚Äî —Å–≤–µ—Ä—Ö—É –∑–∞ —ç–∫—Ä–∞–Ω–æ–º
      this.speed = speed; // —è—á–µ–µ–∫ –≤ —Å–µ–∫—É–Ω–¥—É
      this.fallProgress = 0;
      this.settled = false;
    }
    update(delta) {
      if (this.settled) return;

      this.fallProgress += this.speed * delta;

      if (this.fallProgress >= 1) {
        let nextRow = this.row + 1;

        // –ò—â–µ–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å—Å—è –≤–Ω–∏–∑ ‚Äî –¥–µ–ª–∞–µ–º "–ø—Ä–∏—Ç—è–≥–∏–≤–∞–Ω–∏–µ" –∫ —Å–∞–º–æ–π –Ω–∏–∂–Ω–µ–π —Å–≤–æ–±–æ–¥–Ω–æ–π —è—á–µ–π–∫–µ –≤ —Å—Ç–æ–ª–±—Ü–µ
        while (nextRow + 1 < rows && !grid[nextRow + 1][this.col]) {
          nextRow++;
        }

        if (nextRow >= rows || grid[nextRow][this.col]) {
          // –ï—Å–ª–∏ –Ω–∏–∂–µ –Ω–µ—Ç –º–µ—Å—Ç–∞ –∏–ª–∏ –∑–∞–Ω—è—Ç–æ - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è
          if (this.row >= 0) grid[this.row][this.col] = true;
          this.settled = true;
          this.fallProgress = 1;
        } else {
          this.row = nextRow;
          this.fallProgress = 0;
        }
      }
    }
    draw(ctx) {
      const x = this.col * cellSize;
      const y = (this.row + this.fallProgress - 1) * cellSize;
      ctx.drawImage(this.img, x, y, cellSize, cellSize);
    }
  }

  // –î–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–æ–≤ —Å–æ–∑–¥–∞–¥–∏–º –æ—á–µ—Ä–µ–¥—å —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
  class ImageSelector {
    constructor(images) {
      this.images = images;
      this.history = [];
      this.historyMax = 8; // —á–∏—Å–ª–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –ø–æ–≤—Ç–æ—Ä—è—Ç—å
    }
    getRandom() {
      let attempts = 0;
      while (attempts < 10) {
        const idx = Math.floor(Math.random() * this.images.length);
        if (!this.history.includes(idx)) {
          this.history.push(idx);
          if (this.history.length > this.historyMax) this.history.shift();
          return this.images[idx];
        }
        attempts++;
      }
      // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω—É—Ç—å –ª—é–±–æ–µ
      const idx = Math.floor(Math.random() * this.images.length);
      return this.images[idx];
    }
  }

  async function loadImage(url) {
    return new Promise((resolve) => {
      const img = new Image();
      img.crossOrigin = "anonymous";
      img.onload = () => resolve(img);
      img.onerror = () => {
        // –ü—É—Å—Ç–æ–π canvas –Ω–∞ —Å–ª—É—á–∞–π –æ—à–∏–±–∫–∏
        const empty = document.createElement('canvas');
        empty.width = cellSize;
        empty.height = cellSize;
        resolve(empty);
      };
      img.src = url;
    });
  }

  async function start() {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–∫–∏ –∏ –≥–∏—Ñ–∫–∏
    const photoImages = await Promise.all(photoUrls.map(loadImage));
    const gifImages = await Promise.all(gifUrls.map(loadImage));

    const allImages = [...photoImages, ...gifImages];

    const photoSelector = new ImageSelector(photoImages);
    const gifSelector = new ImageSelector(gifImages);

    const blocks = [];
    let dropInterval = 0.15; // —á–∞—â–µ –ø–∞–¥–∞—é—Ç –±–ª–æ–∫–∏
    let dropTimer = 0;

    let lastTime = performance.now();

    function loop(now) {
      const delta = (now - lastTime) / 1000;
      lastTime = now;

      dropTimer += delta;
      if (dropTimer > dropInterval) {
        dropTimer = 0;

        // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü, –≥–¥–µ —Å–≤–µ—Ä—Ö—É —Å–≤–æ–±–æ–¥–Ω–æ
        const availableCols = [];
        for (let c=0; c<cols; c++) {
          if (!grid[0][c]) availableCols.push(c);
        }

        if (availableCols.length > 0) {
          const col = availableCols[Math.floor(Math.random() * availableCols.length)];

          // –ß–µ—Ä–µ–¥—É–µ–º: —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 0.6 —Ñ–æ—Ç–æ, 0.4 ‚Äî –≥–∏—Ñ–∫–∞
          let img;
          if (Math.random() < 0.6) {
            img = photoSelector.getRandom();
          } else {
            img = gifSelector.getRandom();
          }

          // –°–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è 1.5 - 3 —è—á–µ–π–∫–∏ –≤ —Å–µ–∫—É–Ω–¥—É
          const speed = 1.5 + Math.random() * 1.5;
          blocks.push(new MediaBlock(img, col, -1, speed));
        }
      }

      ctx.clearRect(0, 0, width, height);

      blocks.forEach(block => block.update(delta));
      blocks.forEach(block => block.draw(ctx));

      requestAnimationFrame(loop);
    }

    loop(performance.now());
  }

  start();

  window.addEventListener('resize', () => {
    resize();
    cols = Math.floor(width / cellSize);
    rows = Math.floor(height / cellSize);
    initGrid();
    location.reload(); // –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ
  });
</script>
</body>
</html>













